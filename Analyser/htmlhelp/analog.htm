<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
  <title></title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="author" content="VAN">
  <meta name="generator" content="Quanta Plus">
</head>
<body>	

<a name="top"></a>

<h1><div align="center">3.11. Аналоговые элементы</div></h1>

<a name="analog-osc"></a>
<h4>3.11.1. Аналоговый осциллограф</h4>

<IMG src="images/elements-new/analog-osc.png" width="64" height="115" border="0">

<p style="text-align: justify">
Позволяет отображать аналоговые сигналы по 4 каналам. Есть возможность 
запуска по сигналу на входе <strong>EN</strong> и полного сброса по сигналу <strong>RES</strong> (по высокому уровню).
</p>

<p style="text-align: justify">
Окно осциллографа выглядит следующим образом:
</p>

<IMG src="images/elements-new/analog-osc-wnd.png" width="633" height="446" border="0">

<p style="text-align: justify">
В этом окне можно выполнить следующие настройки:
</p>

<ol>
<li>Изменить масштаб отображения диаграмм по оси времени;</li>
<li>Определить время прохождения того или иного сигнала с помощью движков, 
    которые можно вывести с помощью панели инструментов;</li>
<li>Настроить параметры запуска и останова осциллографа. Запуск 
    может быть осуществлен по перепаду на входе <strong>EN</strong>, останов - также по 
    перепаду на <strong>EN</strong>, по таймауту или можно совсем его запретить («никогда»); </li>
<li>Задать таймаут останова;</li>
<li>Выполнить сброс осциллографа;</li>
<li>Задать масштаб по вертикальной оси и шаг координатной сетки (цену деления);</li>
<li>Изменить цвета фона и координатной сетки;</li>
<li>Задать смещение, а также изменить цвет линии отображаемого сигнала для каждого канала.</li>
</ol>

<p style="text-align: justify">
Вход <strong>EN</strong> используется для запуска/останова осциллографа. Здесь 
следует отметить, что если на вход его изначально подается высокий 
уровень уже при включении симуляции, это также приведет к запуску. 
</p>

<p style="text-align: justify">
Чтобы изменения вступили в силу необходимо нажать на кнопку «Применить».
</p>

<p style="text-align: justify">
Кроме того, с помощью кнопки «Дополнительно…» можно регулировать 
размер используемой осциллографом памяти, меняя значения максимального 
числа отсчетов и интервала обновления в наносекундах. Следует отметить, 
что установка слишком большого значения интервала обновления может сделать 
отрисовку сигнала некорректной (например, прямоугольный импульс может 
превратиться в «пилу»). С другой стороны, малое значение интервала обновления 
приводит к падению производительности. 
</p>

<a name="noise-gaussian"></a>
<h4>3.11.2. Генератор гауссовского шума</h4>

<IMG src="images/elements-new/noise-gaussian.png" width="98" height="62" border="0">

<p style="text-align: justify">
Генерирует нормально распределенный шум с заданными числовыми характеристиками. 
</p>

<p style="text-align: justify">В окне настроек задаются следующие параметры:
</p>

<ul>
<li>значение для инициализации;</li>
<li>необходимость автоматической инициализации (в случае отсутствия таковой данный параметр нужно задать равным нулю);</li>
<li>число отсчетов в условную секунду времени симуляции;</li>
<li>числовые характеристики распределения (математическое ожидание и среднеквадратическое отклонение).</li>
</ul>

<p style="text-align: justify">
Начальное значение генератора случайных чисел может быть 
выбрано автоматически (в этом случае оно получается из текущего 
времени) или задано явно. Так как инициализирующему значению 
полностью соответствует получаемая последовательность случайных 
чисел, можно, задав это значение явно, получать одну и ту же последовательность. 
</p>

<p style="text-align: justify">
Также можно задать число отсчетов в условную секунду 
(времени симуляции). Чем больше это значение, тем лучше 
качество получаемого шума, но тем медленнее будет работать 
симулятор. Ноль задавать нельзя по понятным причинам, впрочем, 
программа заменит его на единицу автоматически, чтобы избежать ошибок. 
</p>

<p style="text-align: justify">
Функция плотности распределения вероятности и ее график имеют вид:
</p>

<p><IMG src="images/elements-new/noise-gaussian-density.png" width="270" height="48" border="0"></p>

<p><IMG src="images/elements-new/noise-gaussian-density-chart.png" width="429" height="325" border="0"></p>

<p style="text-align: justify">Основные числовые характеристики распределения:</p>
<p style="text-align: justify">1. Функция распределения вероятности:</p>
<IMG src="images/elements-new/noise-gaussian-function.png" width="129" height="45" border="0">

<p>2. Математическое ожидание (среднее значение)</p>
<IMG src="images/elements-new/noise-gaussian-mean.png" width="135" height="44" border="0">

<p>3. Дисперсия </p>
<IMG src="images/elements-new/noise-gaussian-dispersion.png" width="212" height="45" border="0">

<p>4. Среднеквадратическое отклонение</p>
<IMG src="images/elements-new/noise-gaussian-deviation.png" width="102" height="19" border="0">

<a name="gen-saw"></a>
<h4>3.11.3. Генератор пилы</h4>

<IMG src="images/elements-new/gen-saw.png" width="103" height="54" border="0">

<p style="text-align: justify">
Генерирует «пилу» с заданными параметрами (амплитудой, частотой).
</p>

<p style="text-align: justify">
Окно настроек выглядит следующим образом:
</p>

<IMG src="images/elements-new/gen-saw-wnd.png" width="472" height="315" border="0">

<p style="text-align: justify">
В этом окне кроме амплитуды («напряжение») и частоты можно 
задавать число отсчетов сигнала, выдаваемых генератором 
за период. Следует отметить, что в случае задания маленького 
числа отсчетов сигнал получается некачественным, большее 
значение приводит к улучшению качества сигнала (он становится 
более гладким), но к уменьшению скорости работы.
</p>

<p style="text-align: justify">
Частота и число отсчетов на период должны быть положительными. 
Иначе программа автоматически установит для них значения по умолчанию при старте моделирования. 
</p>

<p style="text-align: justify">
При настройках по умолчанию (они показаны на рисунке выше) получается сигнал следующего вида:
</p>

<IMG src="images/elements-new/gen-saw-signal.png" width="439" height="335" border="0">

<a name="gen-pulse"></a>
<h4>3.11.4. Генератор прямоугольных импульсов</h4>

<IMG src="images/elements-new/gen-pulse.png" width="102" height="61" border="0">

<p style="text-align: justify">
Как видно из названия, данный генератор генерирует прямоугольные 
импульсы с заданными значениями низкого и высокого уровня, а также их длительностью.
</p>

<p style="text-align: justify">Окно настроек выглядит следующим образом:</p>

<IMG src="images/elements-new/gen-pulse-wnd.png" width="472" height="315" border="0">

<a name="noise-uniform"></a>

<h4>3.11.5. Генератор равномерно распределенного шума</h4>

<IMG src="images/elements-new/noise-uniform.png" width="98" height="66" border="0">

<p style="text-align: justify">
Генерирует равномерно распределенный шум с заданными числовыми характеристиками.
</p>

<IMG src="images/elements-new/noise-uniform-wnd.png" width="473" height="316" border="0">

<p style="text-align: justify">В окне настроек задаются следующие параметры:
</p>

<ul>
<li>значение для инициализации;</li>
<li>необходимость автоматической инициализации (в случае отсутствия таковой данный параметр нужно задать равным нулю);</li>
<li>число отсчетов в условную секунду времени симуляции;</li>
<li>числовые характеристики распределения (математическое ожидание и среднеквадратическое отклонение).</li>
</ul>

<p style="text-align: justify">
Начальное значение генератора случайных чисел может быть 
выбрано автоматически (в этом случае оно получается из текущего 
времени) или задано явно. Так как инициализирующему значению 
полностью соответствует получаемая последовательность случайных 
чисел, можно, задав это значение явно, получать одну и ту же последовательность. 
</p>

<p style="text-align: justify">
Также можно задать число отсчетов в условную секунду 
(времени симуляции). Чем больше это значение, тем лучше 
качество получаемого шума, но тем медленнее будет работать 
симулятор. Ноль задавать нельзя по понятным причинам, впрочем, 
программа заменит его на единицу автоматически, чтобы избежать ошибок. 
</p>

<p style="text-align: justify">
Функция плотности распределения вероятности и ее график имеют вид:
</p>

<p><IMG src="images/elements-new/noise-uniform-density.png" width="164" height="108" border="0"></p>

<p><IMG src="images/elements-new/noise-uniform-density-chart.png" width="249" height="137" border="0"></p>

<p style="text-align: justify">Основные числовые характеристики распределения:</p>
<p style="text-align: justify">1. Функция распределения вероятности:</p>
<IMG src="images/elements-new/noise-uniform-function.png" width="244" height="114" border="0">

<p>2. Математическое ожидание (среднее значение)</p>
<IMG src="images/elements-new/noise-uniform-mean.png" width="182" height="48" border="0">

<p>3. Дисперсия </p>
<IMG src="images/elements-new/noise-uniform-dispersion.png" width="269" height="47" border="0">

<p>4. Среднеквадратическое отклонение</p>
<IMG src="images/elements-new/noise-uniform-deviation.png" width="161" height="47" border="0">

<a name="gen-sine"></a>

<h4>3.11.6. Генератор синуса</h4>

<IMG src="images/elements-new/gen-sine.png" width="109" height="57" border="0">

<p>Генерирует синусоиду с заданными параметрами (амплитудой, круговой частотой и начальной фазой).</p>
<p>Окно настроек выглядит следующим образом:</p>

<IMG src="images/elements-new/gen-sine-wnd.png" width="472" height="315" border="0">

<p style="text-align: justify">
В этом окне кроме амплитуды, круговой частоты и начальной 
фазы синусоиды можно задавать постоянную составляющую и 
число формируемых отсчетов на период. Следует отметить, 
что в случае задания маленького значения частоты дискретизации 
сигнал получается угловатым, большее значение приводит к улучшению 
качества сигнала, но к уменьшению скорости работы.
</p>

<p style="text-align: justify">Начальная фаза задается в радианах.</p>

<p style="text-align: justify">
Частота и число отсчетов должны быть положительными. 
При задании некорректного значения (отрицательного 
или равного нулю) программа установит значения по 
умолчанию (см. рисунок выше). Амплитуда также должна быть положительной.
</p>

<p style="text-align: justify">При значениях параметров по умолчанию генерирует сигнал следующего вида:
</p>

<IMG src="images/elements-new/gen-sine-signal.png" width="439" height="353" border="0">

<a name="gen-const"></a>
<h4>3.11.7. Источник постоянного напряжения</h4>

<IMG src="images/elements-new/gen-const.png" width="100" height="48" border="0">

<p style="text-align: justify">Как видно из названия, данный источник выдает постоянное 
напряжение с заданным значением.</p>

<p style="text-align: justify">
Окно настроек выглядит следующим образом:
В этом окне задается значение напряжения. Других настроек нет.
</p>

<IMG src="images/elements-new/gen-const-wnd.png" width="472" height="315" border="0">

<a name="sensors"></a>
<h4>3.11.8. Датчики температуры и давления</h4>

<IMG src="images/elements-new/sensors.png" width="103" height="112" border="0">

<p style="text-align: justify">
Это довольно простые элементы, играющие роль датчиков. На выходе выдают аналоговый
сигнал определенного уровня, зависящий от текущего значения параметра. Значение 
измеряемого параметра меняется во времени, что представляет собой случайный процесс.
В этих элементах он стационарный и имеет экспоненциальную корреляционную функцию.
</p>

<p>Корреляционная функция выглядит так:</p>

<IMG src="images/elements-new/exp-correl-function.png" width="120" height="26" border="0">

<p style="text-align: justify">Здесь сигма - среднеквадратическое отклонение, а <strong>a</strong>
характеризует скорость изменения процесса. 
</p>

<p style="text-align: justify">Для настройки доступно несколько параметров, окно показано ниже:</p>

<IMG src="images/elements-new/sensors-wnd.png" width="472" height="314" border="0">

<p style="text-align: justify">Возможна настройка следующих параметров:</p>

<ul>
<li>Среднее значение. Около этого значения будет колебаться текущее значение параметра</li>
<li>Среднеквадратическое отклонение. Характеризует степень разброса значений. Неотрицательное.</li>
<li>Скорость изменения. Имеет обычно небольшие значения в районе 10<sup>-6</sup> - 10<sup>-4</sup></li>
<li>Минимальное и максимальное значения параметра. Это диапазон значений, измеряемых датчиком.
    При выходе значения за пределы (такое, в принципе, возможно) датчик выдает на свой выход
    одно из граничных значений</li>
<li>Минимальное и максимальное значения выходного уровня сигнала. Выходной уровень всегда находится
    в пределах этого диапазона и линейно зависит от значения измеряемого параметра.</li>
<li>Число отсчетов в условную секунду. Должно быть больше нуля. Показывает качество выдаваемого сигнала, 
    точнее, сколько раз в секунду (времени симуляции) будет обновляться уровень на выходе датчика</li>
</ul>

<p style="text-align: justify">Выдаваемый сигнал может выглядеть, например, так:</p>

<IMG src="images/elements-new/exp-correl-signal.png" width="441" height="335" border="0">

<a name="probe"></a>
<h4>3.11.9. Вольтметр</h4>

<IMG src="images/elements-new/probe.png" width="110" height="38" border="0">

<p style="text-align: justify">Простой элемент для измерения напряжения в указанной точке. 
Может измерять как мгновенные значения, так и усредненные на заданный интервал времени:
средние и среднеквадратичные значения. 
Интервал времени задается в "условных" наносекундах времени симуляции.
Окно настроек выглядит так:</p>

<IMG src="images/elements-new/probe-wnd.png" width="283" height="155" border="0">

<a name="amplifier"></a>
<h4>3.11.10. Усилитель</h4>

<IMG src="images/elements-new/amplifier.png" width="46" height="40" border="0">

<p style="text-align: justify">
Элемент, усиливающий напряжение на своем входе в заданное число раз 
и выдающий результат на свой выход. Имеется возможность настройки коэффициента усиления, в том числе задание отрицательных и нецелых значений.
</p>

<a name="adc-ext-clk"></a>
<h4>3.11.11. Аналого-цифровые преобразователи с внешним тактированием</h4>

<IMG src="images/elements-new/adc-ext-clk.png" width="426" height="263" align="middle" border="0">

<p style="text-align: justify">
Аналого-цифровые преобразователи (АЦП) служат для получения цифрового кода
определенной разрядности по аналоговому сигналу. Данные модели представляют АЦП
<strong>поразрядного уравновешивания</strong>, т.е. цифровой код на выходе получается поразрядно,
начиная от старших разрядов. Кроме того, в этом варианте АЦП присутствует
аналоговое запоминающее устройство (уровень входного сигнала запоминается на 
время преобразования для исключения ошибок), а такты приходят от внешнего генератора
посредством входа CLK.
</p>

<p style="text-align: justify">
Выходы D<sub>i</sub> трехстабильные, они находятся не в Z-состоянии только в том случае,
когда CS и RD активны (т.е. с уровнем L). При подаче активного уровня RD первый приходящий
перепад L->H CLK запускает преобразование, RDY становится неактивным (H) до тех пор, пока преобразование
не завершится. 
</p>

<p style="text-align: justify">
Выход RDY имеет активный низкий уровень. Он становится активным при окончании преобразования.
</p>

<p style="text-align: justify">Есть варианты АЦП на 8, 12 и 16 разрядов</p>

<p style="text-align: justify">Страница свойств выглядит так:</p>

<IMG src="images/elements-new/adc-wnd.png" width="471" height="313" align="middle" border="0">

<p style="text-align: justify">Здесь задается диапазон входных значений, а также некоторые параметры преобразования.
Например, параметр "постоянное преобразование", находящийся во включенном состоянии (1), показывает, что
АЦП работает всегда, т.е. RD его не запускает. Поэтому после прихода RD задержка преобразования может быть меньше,
т.к. преобразование началось раньше. С другой стороны, получаемый код может быть "устаревшим". 
</p>

<p style="text-align: justify">Параметр "Выдавать промежуточные результаты", будучи включенным (1), 
заставляет АЦП во время преобразования выводить на выходы текущее значение кода. Это позволяет
наглядно изучать работу АЦП.</p>

<a name="adc"></a>
<h4>3.11.12. Аналого-цифровые преобразователи</h4>

<IMG src="images/elements-new/adc.png" width="421" height="261" align="middle" border="0">

<p style="text-align: justify">
Аналого-цифровые преобразователи (АЦП) служат для получения цифрового кода
определенной разрядности по аналоговому сигналу. Данные модели представляют АЦП
<strong>поразрядного уравновешивания</strong>, т.е. цифровой код на выходе получается поразрядно,
начиная от старших разрядов. Кроме того, в этом варианте АЦП присутствует
аналоговое запоминающее устройство (уровень входного сигнала запоминается на 
время преобразования для исключения ошибок). Тактирование от внутреннего генератора.
</p>

<p style="text-align: justify">
Выходы D<sub>i</sub> трехстабильные, они находятся не в Z-состоянии только в том случае,
когда CS и RD активны (т.е. с уровнем L). Перепад L->H на ST запускает преобразование, 
переводя выход RDY в неактивное (H) состояние. После окончания преобразования RDY 
становится активен.
</p>

<p style="text-align: justify">
Для данных элементов можно настроить диапазон входных значений сигнала и длительность
получения одного разряда в условном времени симуляции (в наносекундах).
</p>

<a name="dac"></a>
<h4>3.11.13. Цифро-аналоговые преобразователи</h4>

<IMG src="images/elements-new/dac.png" width="392" height="261" border="0">

<p style="text-align: justify">
ЦАП осуществляет преобразование, обратное производимому АЦП, т.е. преобразует
цифровой двоичный код в соответствующий аналоговый сигнал. Для этого на вход 
CS нужно подать активный уровень (L), на входы данных D<sub>i</sub> - нужный двоичный код,
а на IOW - также активный низкий уровень. На выходе Uвых появится нужный выходной сигнал.
</p>

<p style="text-align: justify">
Присутствуют варианты ЦАП на 8, 12 и 16 разрядов.
</p>

<a name="motor"></a>
<h4>3.11.14. Двигатель</h4>

<IMG src="images/elements-new/motor.png" width="96" height="98" border="0">

<p style="text-align: justify">
Это простая модель двигателя постоянного тока. Скорость вращения линейно зависит
от прикладываемого напряжения между входами. Страница свойств выглядит следующим образом:
</p>

<IMG src="images/elements-new/motor-wnd.png" width="472" height="315" border="0">

<p style="text-align: justify">
Заданное число оборотов в секунду (условного времени) достигается при подаче на входы
номинального напряжения. Если напряжение питания отличается от номинального, скорость
вращения меняется пропорционально.
</p>

<p style="text-align: justify">
Параметр "Период обновления УГО" показывает период перерисовки условного обозначения
при симуляции. Чем он меньше, тем плавнее двигается на экране изображение ротора, но
тем меньше скорость симуляции. Ноль указывать нельзя, впрочем, программа 
автоматически заменит их на единицу
</p>

<a name="stepper"></a>
<h4>3.11.15. Шаговый двигатель</h4>

<IMG src="images/elements-new/stepper.png" width="177" height="184" border="0">

<p style="text-align: justify">
Это очень упрощенная модель четырехфазного шагового двигателя. Элемент имеет два входа
для питания и четыре управляющих входа, подключенных к силовым ключам, обеспечивающим
подачу тока на обмотки, т.е. возбуждение фаз. Вращение может происходить в обе стороны, 
в зависимости от порядка возбуждения фаз. Например, временная диаграмма последовательности
управления может выглядеть так:
</p>

<p style="text-align: justify">
<IMG src="images/elements-new/stepper-control-sequence.png" width="542" height="113" border="0">
</p>

<p style="text-align: justify">
В начале активна первая фаза. При подключении второй фазы и отключении первой возникающее в двигателе
магнитное поле заставляет ротор перемещаться против часовой стрелки (здесь) до следующего равновесного положения,
в котором он и будет находиться до следующего переключения фаз. Если затем подключить третью фазу, ротор
переместится на следующий шаг и т.д.
</p>

<p style="text-align: justify">
Страница свойств модели шагового двигателя:
</p>

<IMG src="images/elements-new/stepper-wnd.png" width="472" height="315" border="0">

<p style="text-align: justify">
Здесь принято, что скорость поворота (от которой напрямую зависит максимальное число шагов, 
которое может сделать двигатель в единицу времени) линейно зависит от напряжения питания.
В реальности это совсем не так и описывается довольно сложными закономерностями. 
Время шага, соответственно, обратно пропорционально напряжению питания и равно заданному
при номинальном напряжении. 
</p>

<p style="text-align: justify">
Параметр "Интервал пересчета", задаваемый в "условных" наносекундах, показывает период времени
между обновлениями положения ротора на УГО. Чем он меньше, тем плавнее обновляется изображение,
но тем больше времени требуется на перерисовку (т.е. падает скорость симуляции).
</p>

</body>
</html>