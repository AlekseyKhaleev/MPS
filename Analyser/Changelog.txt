----[v2.1]----

[ fixed ] Некорректная сборка в BDS 2006

[ fixed ] Ошибка в улучшенном осциллографе (некорректная работа в BDS 2006)

[ fixed ] Ошибка в конструкторе TBusArbiter4 (extra.dll)

[ todo  ] Нет реализации ЦАП и АЦП, датчиков и генератора постоянного напряжения

          Как ни странно, в atools.dll их действительно не было

[ fixed ] Реализация кодирования Base64 в setupfrm.cpp не оптимальна,
          поиск символа можно организовать с константной сложностью

----[v2.1.1]----

[ new   ] Теперь элемент можно удалить нажатием DEL

[ fixed ] Ошибка обработки событий нажатий клавиш. В случае создания модальных 
          форм нажатия клавиш все равно обрабатывались главным окном и, как следствие,
          передавались всем элементам схемы. Т.е., например, нажатие DEL во время
          правки свойства элемента приводило к уничтожению редактируемого элемента (!)

[ new   ] Специальные элементы для останова симуляции по сигналу или по данным
          в service.dll

[ new   ] Два новых элемента-компаратора в extra.dll, а также 16-разрядный адресный селектор

[ new   ] Элемент для чтения байтов из заданного файла. Может использоваться для чтения
          данных в параллельном виде. См. filetest.sch

[ new   ] Модель контроллера приоритетных прерываний ВН59 в КР580.dll

[ new   ] Модель программируемого таймера ВИ53 в КР580.dll

[ fixed ] Ошибка трансляции команды LDA в asm80

[ todo  ] Исправление элемента дисплея в service.dll. Скорее всего, 
          придется его переписать...

[ todo  ] Нужны подробные тесты ВН59, ВИ53. Простые тесты проходят:
          - для ВН59 - одиночный контроллер и каскад, с учетом приоритетов и 
            специальных масок (interrupt-controller*.sch)
          - для ВИ53 - проверены все режимы, однако не проверена перезагрузка
            счетчиков и перезапуск (timer-test.sch)

[ todo  ] Обновление документации. Интерфейс плагина расширился, а последовательность
          сборки с переходом на BDS 2006 существенно изменилась в сторону упрощения ;)
          Также добавились новые элементы, которые нужно задокументировать

[ new   ] Теперь можно менять размер рабочей области. Он задается из окна настроек программы
          и сохраняется в файлах схем

[ new   ] Можно менять подписи к элементам, для этого служит новая кнопка на панели
          инструментов

[ new   ] Новые индикаторы в swr.dll (блоки светодиодов по 1, 4, 8 и 16 штук в каждом)

[ new   ] Теперь можно задавать минимальное время между обновлениями изображений
          уровней сигналов в окне программы (раньше они могли обновляться сколь
          угодно часто). Задание здесь отличного от нуля времени улучшит скорость
          симуляции, хотя уровни сигналов будут отображаться не так оперативно.
          Значение в 20 мс кажется подходящим значением по умолчанию. А значение в 0 мс
          возвращает старое поведение программы...

[ new   ] Некоторое улучшение производительности симуляции для процессора Intel 8080, 
          точнее для его отладчика. Теперь форма отладчика обновляется только тогда, 
          когда она отображена (не считая панели дизассемблирования, которая обновляется
          всегда). При скрытой форме скорость работы увеличивается раз в 5. 

----[v2.1.2]----

[ new   ] Горячие клавиши для быстрого доступа к командам
          Ctrl-N   - новый файл
          Ctrl-O   - открыть файл
          Ctrl-S   - сохранить файл
          Ctrl-A   - режим выбора
          Ctrl-W   - режим рисования соединений
          Ctrl-B   - режим рисования шин
          Ctrl-T   - изменение подписи для выбранного элемента
          Ctrl-O   - запустить/остановить симуляцию
          Ctrl-P   - пауза
          F1       - вызов справки 
          Delete   - удаление выбранного элемента

[ fixed ] Несколько изменено поведение алгоритма объединения шин
          Теперь нельзя создать две *разные* шины, сливающиеся на экране 
          в единое целое

[ fixed ] Вертикальные подписи в генерируемых УГО не всегда отображаются правильно. 

[ todo  ] Окно просмотра схемы в уменьшенном виде a-la Proteus

[ fixed ] Справка не отображалась, если открыта схема не из каталога примеров 
          симулятора (из-за привязки к текущему пути)

[ new   ] Модель контроллера ПДП К580ВТ57 в KP580.dll. 

[ todo  ] Нужны подробные тесты КПДП ВТ57

----[v2.1.3]----

[ fixed ] Исправлена еще одна ошибка в улучшенном осциллографе

[ fixed ] Исправлена ошибка в ядре симуляции (!)
          Она в редких случаях могла приводить к тому, что некоторые сигналы не 
          обрабатывались. Например, провал альфа-теста контроллера ПДП был 
          обусловлен именно этой ошибкой (после выхода из режима захвата шины
          в схеме происходили, мягко говоря, странные вещи, например,
          отказ в работе шинного формирователя). Ошибка проявляется в том случае,
          когда в схеме присутствуют элементы с разными задержками...

[ fixed ] Программа не проверяла отсутствие поддержки плагином 
          элементов, нужных для загрузки файла. Теперь проверяет...

[ new   ] Есть возможность отобразить на экране состояние выводов любого
          элемента в отдельном окне, причем окно динамически обновляется

[ new   ] Добавлены некоторые возможности аналоговой симуляции
          До полноценного решения очень далеко... Фактически, нет расчета
          переходных процессов, величин токов, также не стоит объединять
          несколько аналоговых выходов в одном соединении. Аналоговые выходы
          имеют нулевое выходное сопротивление, аналоговые входы - бесконечное
          входное

[ new   ] Несколько *работающих* аналоговых элементов в atools.dll: АЦП, ЦАП, 
          генераторы сигналов различных форм и т.д.

[ new   ] Общее улучшение производительности цифровой симуляции

[ new   ] Теперь программа отображает имя открытой схемы в заголовке главного окна

[ new   ] Аналоговый четырехканальный осциллограф в atools.dll, построенный
          на базе улучшенного осциллографа (из ins2.dll)

[ new   ] Генераторы белого шума в atools.dll (равномерного и гауссовского)

[ new   ] Встроенная небольшая подсказка по горячим клавишам (Ctrl-F1)

----[v2.1.4]----

[ fixed ] Много исправлений ошибок в atools.dll и ядре:
          - некорректная инициализация уровней на контактах при аналоговой симуляции
          - ошибки в аналоговом осциллографе
          - неточности в АЦП
          - неработоспособность генератора постоянного напряжения при 
            повторном включении

[ fixed ] Горячая клавиша Ctrl-O была назначена двум командам! 
          Теперь для пуска/останова симуляции используется Ctrl-M

[ new   ] В справочной системе есть список элементов со ссылками на их описания.
          Также можно вызвать справку по выделенному в окне программы элементу
          нажатием F2

[ new   ] Переработанный дисплей. Теперь может отображать графику как на УГО,
          так и в отдельном окне. Нуждается в дополнительном тестировании...

[ new   ] 16-цветовой дисплей IRGB. Позволяет выводить цветное изображение 
          намного быстрее предыдущего варианта дисплея...

[ new   ] Дисплей RGB с аналоговыми входами. Может отображать полноцветные изображения
          быстрее первого варианта дисплея (в котором данные о 24-битном цвете передавались
          в цифровом виде последовательно)

----[v2.1.5]----

[ todo  ] Не помешает восьмиканальный аналоговый осциллограф

[ fixed ] Некоторые странности с отсчетом времени в осциллографе

[ new   ] Аналоговые мультиплексоры и демультиплексоры

[ fixed ] В УГО АЦП добавить АЗУ

[ fixed ] Активное состояние на выходе АЦП только при RD=CS=0

[ new   ] АЦП и ЦАП разной разрядности (8, 12 или 16 бит)
          Есть варианты АЦП с внешним тактированием и внутренним

[ fixed ] Название "Частота дискретизации" поменять

[ new   ] Теперь присутствует окно "О программе"

[ new   ] Интерфейс COM в service.dll. Его работа проверена на двух виртуальных машинах с WinXP
          под Sun xVM VirtualBox'ом с включенной виртуализацией COM-портов 

[ todo  ] Исполнительные устройства: реле

[ fixed ] Ошибки в работе генератора пилы

[ new   ] Улучшенный зонд. Теперь может вычислять среднее и среднеквадратическое значение
          за заданный период

[ new   ] Программа запоминает имена последних открытых файлов. Их можно быстро
          заново открыть, используя меню

----[v2.1.6]----

[ fixed ] Теперь уровни сигналов в главном окне программы перерисовываются немедленно при
          нажатии кнопки паузы (или при срабатывании кнопки останова), чтобы отразить
          текущее состояние

[ new   ] Шаговый двигатель в комплекте (реактивный четырехфазный с силовыми ключами)
          В atools.dll

[ new   ] Модель простого идеального усилителя

[ new   ] Простая модель обычного двигателя постоянного тока

[ fixed ] Несколько изменен порядок работы программных каналов. Теперь элемент
          не разрешает записывать данные (RDYW неактивен), если с другой стороны
          канал еще не открыт

[ new   ] Дополненная документация. Покрывает почти всю элементную базу

[ fixed ] Исправлена ошибка в аналоговом мультиплексоре на 8 входов

----[v2.1.7]----

[ fixed ] Более корректное поведение АЦП при поразрядном уравновешивании

[ fixed ] Небольшая утечка памяти при вызове редактора ассемблерных текстов для
          элементов памяти

[ fixed ] Исправлена небольшая ошибка в редакторе схем (можно было в некоторых 
          случаях выбрать одновременно два объекта - элемент и соединение)

[ new   ] Есть возможности для проверки правильности подключения элементов
          по нагрузочной способности выходов (число подключенных входов не
          должно превышать нагрузочной способности)

[ new   ] Появилось окно для вывода сообщений. Ядро и плагины могут выводить
          сюда важные для пользователя сообщения. Есть возможность
          фильтрации сообщений 

[ new   ] Настройки фильтра сохраняются в ini-файле программы

[ new   ] Модель дифференциального усилителя

[ new   ] Дополненная документация. Также исправлены кое-какие ошибки

----[v2.1.8]----

[ new   ] Модели реле

[ new   ] Модели элементов с открытым коллектором

[ fixed ] Нажатие DEL при активном немодальном окне (например, отладчике 
          процессора или окне осциллографа) приводило к удалению 
          выбранного элемента в режиме редактирования

[ new   ] Есть возможность изменения цвета светодиодных индикаторов

[ fixed ] Ошибки при проверке нагрузочных способностей

[ fixed ] Ошибки при загрузке и сохранении дампов памяти

[ new   ] В редакторе компонентов появилась возможность менять положение
          уже созданных выводов

[ new   ] Небольшая оптимизация в ядре, удалены лишние операции 
          выделения/освобождения памяти

[ new   ] Увеличен размер окна выпадающего списка имен соединений
          по многочисленным просьбам 

----[v2.1.9]----

[ fixed ] Ошибка, связанная с неправильным формированием сигналов
          TxEND и TxRDY в модели К580ВВ51. Вроде исправлена ;-)

[ new   ] Модель К580ВВ51 выдает предупреждения при несоблюдении соотношений
          частот TxC, RxC и CLK в окне сообщений

[ todo  ] Для i8251 частота TxC и RxC должна быть меньше частоты CLK
          хотя бы в 30 раз (согласно документам от Intel)
          В документации указано не такое соотношение (ошибка?)

[ fixed ] Непонятное поведение отладчика при обработке прерываний
          (команды рестарта иногда выводятся в листинг дизассемблера,
          а иногда - нет). Теперь команды запуска прерываний
          всегда выводятся в листинг, при этом они помечаются как INT

[ todo  ] Найти и исправить возможные ошибки при сохранении и 
          загрузке дампов памяти. Если они вообще есть, пока
          воспроизвести ошибку у меня не удалось

[ new   ] Теперь окна состояния элементов (осциллографа, отладчика i8080 и 
          др.) содержат в заголовке позиционное обозначение элемента,
          чтобы пользователь не путал их при работе. Заголовки обновляются
          при запуске симуляции

[ new   ] Цифровые осциллографы теперь называются как "логические анализаторы"

[ new   ] Обновленные модели реле 

----[v2.1.10]---- 

[ new   ] Модели АЛУ с полным управлением (с документацией)

[ new   ] Модели микроконтроллеров AVR (в разработке)

[ new   ] Модель ОЗУ с 64-битной шиной данных

[ new   ] Расширение интерфейса плагина: возможность проверки готовности
          элементов к запуску симуляции

[ fixed ] Некоторые улучшения стабильности работы

[ fixed ] Исправление ошибок в работе моделей реле

----[v2.1.11]----

[ fixed ] Ошибка в обработке команды DI в модели процессора i8080

[ fixed ] Ошибка загрузки схем, использующих автоматическую генерацию УГО,
          при запуске программы с рабочим каталогом, отличным от каталога
          с образом ядра программы

[ new   ] Номер сборки теперь отображается в заголовке программы

[ new   ] Окно с отображением общего вида всей схемы

[ new   ] Интерфейс использует стили Windows XP

[ new   ] Устранено мерцание при перерисовке схемы

----[v2.1.12]----

[ new   ] Модель микроконтроллера Microchip PIC16F84

[ new   ] Модели микроконтроллеров AVR + среда разработки + ассемблер

[ new   ] Новый компонент чтения данных из файла, согласованный
          по управляющим сигналам с ВВ55

[ new   ] Новый дизайн окна "О программе" ;-)

[ fixed ] Более корректное поведение выхода RDY для принтера, теперь
          принтер на короткое время становится не готов после приема
          каждого символа

[ fixed ] Исправление проблем с перерисовкой в логических анализаторах

[ fixed ] Исправления ошибок в разных компонентах

[ fixed ] Исправлена ошибка доступа к памяти в некоторых случаях работы
          с осциллографами

----[v2.1.13]----

[ new   ] Расширение интерфейса плагина для окна вывода состояния элементов

[ new   ] Восьмиразрядный счетчик

[ fixed ] Исправление ошибки с автозагрузкой в контроллере DMA

----[v2.1.14]----

[ new   ] Новые модели микроконтроллеров AVR

[ fixed ] Исправлен порядок считывания регистра канала КС в КР580ВВ55

[ fixed ] Исправлено поведение КР580ВВ51 при включении синхронного режима
          (порядок передачи синхро-байтов)

[ fixed ] В КР580ВН59 устранена ошибка повторной выдачи сигнала прерывания (INT)
	  во время его обработки

[ fixed ] Исправлена реакция КР580ВВ51 на сигнал RESET

[ new   ] Добавлен отчет о тестировании в установочный пакет

[ new   ] Добавлен пункт "Сообщить об ошибке" в меню симулятора, позволяющий
          запустить редактор для заполнения формы отчета об ошибке (форма прилагается)

[ fixed ] Исправлены ошибки, возникающие при нажатии на кнопку "Сброс" в улучшенных 
	  логических анализаторах

[ fixed ] Исправлено огромное количество (порядка полусотни) опечаток в пунктах
	  3.12 и 5.7 справочной системы. Кроме того, исправлены некоторые недочеты,
          связанные с форматированием

[ new   ] Симулятор открывает файлы, указанные в командной строке

[ fixed ] Исправлена ошибка объединения близких шин при рисовании

[ fixed ] Кнопка закрытия окна свойств pic16 не работала

[ fixed ] Исправлено неработавшее отображение контекстной помощи для микроконтроллеров
          AVR (по F2) + изменено сообщение об ошибке при недоступности документации

[ new   ] Запрет на добавление элементов в схему во время симуляции

[ fixed ] Исправлено зависание при запуске симуляции в режиме паузы на 
          многопроцессорных системах

[ fixed ] Теперь невозможно подключить элемент к горизонтальной шине

[ new   ] В справочной системе появился раздел, описывающий известные проблемы в работе симулятора

[ fixed ] Режим паузы более не выключается при выключении симуляции

[ fixed ] Внесены изменения в пункт 1.2 справочной системы: описаны новые настраиваемые параметры

----[v2.1.15]----

[ new   ] Обновление librandomness

[ fixed ] Запрещена смена имени соединения во время симуляции

[ fixed ] Исправлена ошибка отрисовки в улучшенном логическом анализаторе и 
          аналоговом осциллографе

[ new   ] Возможность настройки количества сохраняемых отсчетов для улучшенного
          логического анализатора

[ new   ] Возможность добавления команд в меню для плагинов

[ new   ] Новое меню "Документация" в группе "Справка", предназначенная для
          вызова не-HTML документации плагинов. Плагин AVR добавляет туда
          свои команды

[ fixed ] Исправлено некорректное открытие окна свойств микроконтроллеров AVR

[ new   ] Расширение интерфейса плагина (уведомления о смене подписи элемента)

[ new   ] Расширение интерфейса плагина (уведомления о паузе/продолжении работы)

[ new   ] Кнопки паузы/продолжения работы на отладчике i8080 синхронизированы
          с глобальной кнопкой паузы. Теперь глобальная пауза также разрещает
          редактирование содержимого регистров процессора в отладчике

[ fixed ] Исправление проблем с перерисовкой в анализаторах при нажатии
          кнопки сброса в режиме паузы

[ new   ] Добавлена документация на PIC16F84

[ fixed ] Исправление утечек памяти в плагине AVR

[ fixed ] Исправление обработки одновременной активности RES и EN в улучшенном анализаторе

[ new   ] Коррекция путей конфиг-файла и отладочного журнала

[ fixed ] В пункте 1.2 справочной системы отражено появление нового функционала, 
          а также заменены некоторые устаревшие скриншоты 
          
[ new   ] Подсветка соединений на шине, связанных с выбранным соединением

[ fixed ] Исправлена проблема с перерисовкой окна общего вида

[ fixed ] Исправлена ошибка Thread Error при включении паузы в случае, когда
          схема содержит читатель файла, согласованный с ВВ55, настроенный
          на несуществующий файл
          
----[v2.1.16]----          

[ new   ] Поддержка редактирования и удаления нескольких выбранных соединений (#30, #50)

[ fixed ] Исправлено состояние кнопок удаления/изменения подписи элемента на панели инструментов (#49)

[ fixed ] Исправление работы ВК28 (запрет выдачи данных на внешнюю шину при отсутствии WR,
          корректировка задержек IOWR) (#32, #61)

[ new   ] Немодальное окно журнала (#59)

[ fixed ] Исправлено поведение ОЗУ при неактивных управляющих сигналах (#60)

[ fixed ] Исправление отображения окна свойств микроконтроллеров (#35)

[ fixed ] Доработка окна "О программе" (#16, #40)

[ fixed ] Исправление КР580ВТ57 (№62)

----[v2.2.0]----          

[ new   ] Группировка элементов в меню по типам (#64)

[ new   ] Принтер с последовательным вводом информации (#55)

[ new   ] Перемещение блоков памяти (#58)

[ new   ] Переход на Codegear C++ Builder 2010

[ new   ] Клавиатура с генерацией строба (#54)

[ new   ] Добавлены автотесты на основе Sikuli

[ new   ] Группировка элементов по подменю (#65)

[ new   ] Доработка инсталлятора (создание ярлыков и ассоциаций) (#69)

[ new   ] Вывод реального времени с момента запуска/последнего останова в окне состояния
          точки останова
		  
[ new   ] Оптимизация симуляции (#70)

[ fixed ] Не работает горячая клавиша - Delete (#75)

[ fixed ] Не закрываются файлы дампов при загрузке в память (#74)

----[v2.2.1]----

[ fixed ] Отмена изменения настроек не работает должным образом (#77)

[ new   ] Вывод предупреждения о необходимости перезагрузки симулятора при изменении настроек (#72)

[ new   ] В документацию добавлено описание параметров командной строки

[ new   ] Доработка выбора имен файлов в свойствах элементов (#80)

[ new   ] Модель полного одноразрядного двоичного сумматора (#79)

[ new   ] Доработки простых логических элементов (#82)

[ new   ] Показывать в инсталляторе версию пакета (#76)

[ new   ] Дополнительные логические элементы с Z-состоянием (#83)

[ new   ] Триггеры Шмитта и оптопара (#84)

[ new   ] Доработать динамик (#86)

[ new   ] Доработать формирование строба простой клавиатуры (#85)

[ new   ] Новые аналоговые мультиплексоры (#87)

[ new   ] Аналоговые мультиплексоры перемещены в группу "Аналоговые элементы" (#68)

[ new   ] Модель матричного индикатора (#89)

[ fixed ] Некорректная работа последовательного принтера (#90)

[ new   ] Добавить резистор (#91)

